<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}LIA - Pages publiques{% endblock %}</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet"/>

  <!-- Thème centralisé -->
  <link href="/static/css/theme.css" rel="stylesheet"/>

  <!-- Optionnel : tes surcharges -->
  <link href="/static/css/styles.css" rel="stylesheet"/>

  <!-- Bridge (facultatif) : mappe settings backend -> variables du thème -->
  <style>
    :root{
      {% if settings and settings.THEME_PRIMARY %}  --primary-color: {{ settings.THEME_PRIMARY }}; {% endif %}
      {% if settings and settings.THEME_SECONDARY %}--secondary-color: {{ settings.THEME_SECONDARY }}; {% endif %}

      /* Dérivées utiles */
      --primary-dark: color-mix(in srgb, var(--primary-color, #ffd300) 85%, black);
      --primary-light: color-mix(in srgb, var(--primary-color, #ffd300) 85%, white);

      /* Gris & fond */
      --white-color: var(--surface, #ffffff);
      --gray-light: var(--muted-100, #f0f2f5);
      --gray-medium: var(--muted-400, #9aa3b2);
      --gray-dark: var(--muted-600, #6b7280);

      /* Ombres utilitaires */
      --shadow-sm: 3px 3px 6px rgba(0,0,0,.08), -3px -3px 6px rgba(255,255,255,.8);
      --shadow: 5px 5px 12px rgba(0,0,0,.10), -5px -5px 12px rgba(255,255,255,.85);
      --shadow-lg: 10px 10px 28px rgba(0,0,0,.14), -10px -10px 28px rgba(255,255,255,.85);

      /* Dimensions header/footer + gap */
      --header-h: 64px;          /* hauteur header fixe */
      --footer-h: 56px;          /* hauteur footer fixe */
      --content-gap: 16px;       /* espace entre zones */
      --content-max-w: 1200px;   /* largeur max du contenu */
      --side-pad: 20px;          /* padding latéral du contenu */
    }

    /* ====== Base publique ====== */
    html, body{
      height:100%;
      background: var(--gray-light);
    }

    body{
      margin:0; padding:0;
      font-family: var(--font-family-primary, 'Segoe UI', system-ui, -apple-system, Arial, sans-serif);
      color: var(--secondary-color);
      min-height:100vh;
      overflow:hidden; /* on scrolle uniquement la zone de contenu */
    }

    /* Header public (fixe) */
    .public-header{
      position: fixed; top:0; left:0; right:0; z-index: 10;
      height: var(--header-h);
      background: var(--white-color);
      box-shadow: var(--shadow);
      border-bottom: 1px solid color-mix(in srgb, var(--secondary-color) 10%, transparent);
      display:flex; align-items:center;
    }
    .public-header .brand{
      display:flex; align-items:center; gap:12px;
      padding: 0 var(--side-pad);
      height: 100%;
    }
    .public-header .brand img{ height:32px; }
    .public-header .brand .title{
      font-weight:800; letter-spacing:.2px;
      color: var(--secondary-color);
      font-size: 1.1rem;
      line-height: 1;
    }

    /* Footer public (fixe) */
    .public-footer{
      position: fixed; bottom:0; left:0; right:0; z-index: 10;
      height: var(--footer-h);
      background: var(--white-color);
      color: var(--gray-medium);
      font-size: .9rem;
      box-shadow: var(--shadow);
      border-top: 1px solid color-mix(in srgb, var(--secondary-color) 10%, transparent);
      display:flex; align-items:center;
    }
    .public-footer .inner{
      width: 100%;
      padding: 0 var(--side-pad);
    }

    /* Zone de contenu strictement entre header et footer, avec gap */
    .content-viewport{
      position: fixed;
      left: 0; right: 0;
      top: calc(var(--header-h) + var(--content-gap));
      bottom: calc(var(--footer-h) + var(--content-gap));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    /* Container adaptatif pour le contenu */
    .content-container {
      max-width: var(--content-max-w);
      margin: 0 auto;
      padding: 0 var(--side-pad);
    }

    /* Cartes “neumo” réutilisables par les pages publiques */
    .card-neumo{
      background: var(--white-color); 
      border-radius: 18px; 
      box-shadow: var(--shadow);
      border: 1px solid color-mix(in srgb, var(--secondary-color) 8%, transparent);
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .card-neumo:hover{ 
      transform: translateY(-2px); 
      box-shadow: var(--shadow-lg); 
    }
    .section-title{ 
      color: var(--secondary-color); 
      font-weight:900; 
      margin:0 0 .8rem; 
      font-size: 1.2rem;
    }

    /* Utilitaires */
    .mb-1 { margin-bottom: 0.25rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 1rem; }
    .mb-4 { margin-bottom: 1.5rem; }
    .mb-5 { margin-bottom: 3rem; }
    .mt-1 { margin-top: 0.25rem; }
    .mt-2 { margin-top: 0.5rem; }
    .mt-3 { margin-top: 1rem; }
    .mt-4 { margin-top: 1.5rem; }
    .mt-5 { margin-top: 3rem; }
    .p-1 { padding: 0.25rem; }
    .p-2 { padding: 0.5rem; }
    .p-3 { padding: 1rem; }
    .p-4 { padding: 1.5rem; }
    .p-5 { padding: 3rem; }

    /* Responsive */
    @media (max-width: 768px) {
      :root{
        --header-h: 60px;
        --footer-h: 54px;
        --content-gap: 12px;
        --side-pad: 16px;
      }
      .public-header .brand img { height: 28px; }
      .public-header .brand .title { font-size: 1rem; }
    }

    {% block head_extra %}{% endblock %}
  </style>
</head>
<body>

  <!-- ===== HEADER PUBLIC (fixe) ===== -->
  <div class="public-header">
    <div class="brand">
      <img src="/static/images/logo.png" alt="Logo">
      <div class="title">LIA Coaching — Espace public</div>
    </div>
  </div>

  <!-- ===== CONTENU (scrolle uniquement ici) ===== -->
  <div class="content-viewport">
    <div class="content-container">
      {% block content %}{% endblock %}
    </div>
  </div>

  <!-- ===== FOOTER PUBLIC (fixe) ===== -->
  <div class="public-footer">
    <div class="inner d-flex justify-content-between align-items-center flex-wrap gap-2">
      <span>© 2025 MycreoAcademy</span>
      <span class="text-muted">Tous droits réservés</span>
    </div>
  </div>

  <!-- JS libs (public minimal) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Script pour gérer le sidebar lors de l'ouverture des modals -->
 
  
  {% block scripts %}{% endblock %}
</body>
</html>
