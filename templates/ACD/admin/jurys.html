{% extends "ACD/admin/base_admin.html" %}
{% block admin_content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h5 class="m-0">Jurys</h5>
</div>

<div class="card-neumo p-3 mb-3">
  <form class="row g-2" method="post" action="/admin/jurys/add">
    <div class="col-md-4">
      <select name="programme_id" class="form-select" required>
        {% for p in progs %}<option value="{{ p.id }}">{{ p.code }} — {{ p.nom }}</option>{% endfor %}
      </select>
    </div>
    <div class="col-md-4"><input type="datetime-local" name="session_le" class="form-control" required></div>
    <div class="col-md-3"><input name="lieu" class="form-control" placeholder="Lieu (optionnel)"></div>
    <div class="col-md-1"><button class="btn btn-primary w-100"><i class="fa fa-plus"></i></button></div>
  </form>
</div>

<div class="card-neumo p-3">
  <table class="table align-middle">
    <thead><tr><th>Date</th><th>Programme</th><th>Lieu</th><th>Statut</th></tr></thead>
    <tbody>
      {% for j in jurys %}
      <tr>
        <td>{{ j.session_le.strftime('%d/%m/%Y %H:%M') }}</td>
        <td>{{ j.programme_id }}</td>
        <td>{{ j.lieu or '—' }}</td>
        <td><span class="badge bg-secondary">{{ j.statut }}</span></td>
      </tr>
      {% else %}
      <tr><td colspan="4" class="text-muted text-center">Aucun jury.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
